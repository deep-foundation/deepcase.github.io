{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/workspace/deepcase/packages/deep.foundation/imports/card.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useRef, useState } from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport { ButtonBase, makeStyles, Paper } from '@material-ui/core';\n\nconst calc = (x, y, w, h, l, t) => [-(y - t - h / 2) / 10, (x - l - w / 2) / 10, 1.1];\n\nconst trans = (x, y, s) => `perspective(600px) rotateX(${-x}deg) rotateY(${-y}deg) scale(${s})`;\n\nconst useStyles = makeStyles(() => ({}));\nexport function Card(_ref) {\n  let {\n    children,\n    disabled,\n    animatedProps,\n    PaperProps\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"children\", \"disabled\", \"animatedProps\", \"PaperProps\"]);\n\n  const {\n    0: hover,\n    1: setHover\n  } = useState(false);\n  const [spr, set] = useSpring(() => ({\n    xys: [0, 0, 1],\n    config: {\n      mass: 2,\n      tension: 150,\n      friction: 100\n    }\n  }));\n  const rootRef = useRef();\n  return /*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({\n    ref: rootRef\n  }, props), {}, {\n    style: _objectSpread({\n      position: 'relative',\n      height: '100%',\n      width: '100%'\n    }, props === null || props === void 0 ? void 0 : props.style),\n    children: /*#__PURE__*/_jsxDEV(animated.div, _objectSpread(_objectSpread({\n      onMouseMove: ({\n        clientX,\n        clientY,\n        currentTarget\n      }) => {\n        if (disabled) return;\n        const box = rootRef.current.getBoundingClientRect();\n        let x, y;\n        x = clientX - (box === null || box === void 0 ? void 0 : box.x), y = clientY - (box === null || box === void 0 ? void 0 : box.y);\n        set({\n          xys: calc(x, y, currentTarget.offsetWidth, currentTarget.offsetHeight, currentTarget.offsetLeft, currentTarget.offsetTop)\n        });\n        if (!hover) setHover(true);\n      },\n      onMouseLeave: () => {\n        if (disabled) return;\n        set({\n          xys: [0, 0, 1]\n        });\n        setHover(false);\n      }\n    }, animatedProps), {}, {\n      style: _objectSpread({\n        transform: spr.xys.interpolate(trans),\n        height: '100%',\n        width: '100%'\n      }, animatedProps === null || animatedProps === void 0 ? void 0 : animatedProps.style),\n      children: /*#__PURE__*/_jsxDEV(Paper, _objectSpread(_objectSpread({\n        elevation: hover ? 4 : 1,\n        component: disabled ? 'div' : ButtonBase\n      }, PaperProps), {}, {\n        style: _objectSpread({\n          opacity: disabled ? 0.5 : 1,\n          height: '100%',\n          width: '100%',\n          textAlign: 'left'\n        }, PaperProps === null || PaperProps === void 0 ? void 0 : PaperProps.style),\n        children: children\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n;","map":{"version":3,"sources":["/workspace/deepcase/packages/deep.foundation/imports/card.tsx"],"names":["React","useRef","useState","useSpring","animated","ButtonBase","makeStyles","Paper","calc","x","y","w","h","l","t","trans","s","useStyles","Card","children","disabled","animatedProps","PaperProps","props","hover","setHover","spr","set","xys","config","mass","tension","friction","rootRef","position","height","width","style","clientX","clientY","currentTarget","box","current","getBoundingClientRect","offsetWidth","offsetHeight","offsetLeft","offsetTop","transform","interpolate","opacity","textAlign"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react';\nimport { withStyles } from '@material-ui/styles';\nimport { useSpring, animated } from 'react-spring';\nimport { ButtonBase, makeStyles, Paper } from '@material-ui/core';\n\nconst calc: any = (x, y, w, h, l, t) => [\n  -((y - t) - h / 2) / 10,\n  ((x - l) - w / 2) / 10,\n  1.1\n];\nconst trans: any = (x, y, s) =>\n  `perspective(600px) rotateX(${-x}deg) rotateY(${-y}deg) scale(${s})`;\n\nexport interface ICard {\n  image: String;\n}\n\nconst useStyles = makeStyles(() => ({\n}));\n\nexport function Card({\n  children, disabled, animatedProps, PaperProps,\n  ...props\n}: {\n  children: any; disabled?: boolean; animatedProps?: any; PaperProps?: any;\n  [prop: string]: any;\n}) {\n  const [hover, setHover] = useState<boolean>(false);\n  const [spr, set] = useSpring(() => ({\n    xys: [0, 0, 1],\n    config: { mass: 2, tension: 150, friction: 100 }\n  }));\n  const rootRef = useRef<HTMLInputElement>();\n\n  return (\n    <div ref={rootRef} {...props} style={{ position: 'relative', height: '100%', width: '100%', ...props?.style }}>\n      <animated.div\n        onMouseMove={({ clientX, clientY, currentTarget }: any) => {\n          if (disabled) return;\n          const box = rootRef.current.getBoundingClientRect();\n          let x, y;\n          x = clientX - box?.x, y = clientY - box?.y;\n          set({ xys: calc(x, y, currentTarget.offsetWidth, currentTarget.offsetHeight, currentTarget.offsetLeft, currentTarget.offsetTop) });\n          if (!hover) setHover(true);\n        }}\n        onMouseLeave={() => {\n          if (disabled) return;\n          set({ xys: [0, 0, 1] });\n          setHover(false);\n        }}\n        {...animatedProps}\n        style={{\n          transform: spr.xys.interpolate(trans),\n          height: '100%', width: '100%',\n          ...animatedProps?.style,\n        }}\n      >\n        <Paper\n          elevation={hover ? 4 : 1}\n          component={disabled ? 'div' : ButtonBase}\n          {...PaperProps}\n          style={{\n            opacity: disabled ? 0.5 : 1,\n            height: '100%', width: '100%',\n            textAlign: 'left',\n            ...PaperProps?.style\n          }}\n        >\n          {children}\n        </Paper>\n      </animated.div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}